[gd_scene load_steps=8 format=3 uid="uid://pumx6vjvgno2"]

[ext_resource type="Script" uid="uid://dny5q5r73lfbp" path="res://scripts/simulation_controller.gd" id="1_y5vwh"]
[ext_resource type="Script" uid="uid://c0mr3ntsvgl0c" path="res://scripts/resources/simulation_config.gd" id="2_ik8a0"]
[ext_resource type="Script" uid="uid://dvge2gba0gq2h" path="res://scripts/resources/infection_config.gd" id="2_ljsjv"]
[ext_resource type="Script" uid="uid://osmewmqr43qt" path="res://scripts/plot/grid.gd" id="5_mwrr7"]
[ext_resource type="Script" uid="uid://bi45lkxsa6ojy" path="res://scripts/zoom_pan.gd" id="6_gimvv"]

[sub_resource type="Resource" id="Resource_mwrr7"]
script = ExtResource("2_ljsjv")
transmission_radius = 32.0
transmission_probability = 0.001
max_per_cell = 64
metadata/_custom_type_script = "uid://dvge2gba0gq2h"

[sub_resource type="Resource" id="Resource_gimvv"]
script = ExtResource("2_ik8a0")
agent_speed = 5.0
bounds = Vector2(700, 500)
infection_config = SubResource("Resource_mwrr7")
stage_durations = Dictionary[int, Vector2]({
0: Vector2(0, 0),
1: Vector2(8, 10),
2: Vector2(2, 4),
3: Vector2(0, 0)
})
metadata/_custom_type_script = "uid://c0mr3ntsvgl0c"

[node name="Simulation" type="Node2D" node_paths=PackedStringArray("ui_container", "cell_grid", "zoom_pan")]
script = ExtResource("1_y5vwh")
simulation_config = SubResource("Resource_gimvv")
ui_container = NodePath("")
cell_grid = NodePath("Grid")
zoom_pan = NodePath("ZoomPan")
radius = 1.3

[node name="Grid" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
script = ExtResource("5_mwrr7")

[node name="ZoomPan" type="Node2D" parent="." node_paths=PackedStringArray("target_node")]
script = ExtResource("6_gimvv")
target_node = NodePath("..")
max_zoom = 10.0
limits_enabled = true
